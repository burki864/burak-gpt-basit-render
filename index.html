<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>BurakGPT</title>
<style>
body {
  font-family: Arial;
  background:#0f172a;
  color:white;
}
button {
  padding:10px 16px;
  border:none;
  border-radius:6px;
  cursor:pointer;
}
.top {
  position:fixed;
  top:20px;
  right:20px;
}
.popup {
  display:none;
  position:fixed;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  background:#020617;
  padding:20px;
  width:320px;
  border-radius:10px;
}
.popup input {
  width:100%;
  margin:6px 0;
  padding:8px;
}
.line {border-top:1px solid #334155;margin:10px 0}
</style>
</head>
<body>

<div class="top">
  <button onclick="openLogin()">Login</button>
  <button onclick="openSignup()">Signup</button>
</div>

<!-- LOGIN -->
<div id="login" class="popup">
<h3>Giriş Yap</h3>
<button style="width:100%;background:#2563eb">Google ile Devam Et</button>
<div class="line"></div>
<input id="l_email" placeholder="Email">
<input id="l_pass" type="password" placeholder="Şifre">
<button onclick="doLogin()">Devam Et</button>
<button onclick="closeAll()">İptal</button>
<p onclick="switchSignup()">Hesabın yok mu? → Kayıt Ol</p>
</div>

<!-- SIGNUP -->
<div id="signup" class="popup">
<h3>Kayıt Ol</h3>
<button style="width:100%;background:#2563eb">Google ile Devam Et</button>
<div class="line"></div>
<input id="s_email" placeholder="Email">
<input id="s_pass" type="password" placeholder="Şifre">
<input id="s_pass2" type="password" placeholder="Şifre Tekrar">
<button onclick="doSignup()">Devam Et</button>
<button onclick="closeAll()">İptal</button>
<p onclick="switchLogin()">Zaten hesabın var mı? → Giriş Yap</p>
</div>

<script>
function openLogin(){closeAll();login.style.display="block"}
function openSignup(){closeAll();signup.style.display="block"}
function closeAll(){login.style.display=signup.style.display="none"}
function switchSignup(){openSignup()}
function switchLogin(){openLogin()}

async function doLogin(){
  await fetch("/login",{method:"POST",body:JSON.stringify({
    email:l_email.value,password:l_pass.value
  })})
  alert("Giriş başarılı")
  closeAll()
}

async function doSignup(){
  await fetch("/signup",{method:"POST",body:JSON.stringify({
    email:s_email.value,password:s_pass.value,password2:s_pass2.value
  })})
  alert("Kayıt başarılı")
  closeAll()
}
</script>

</body>
</html>
